<!DOCTYPE html>
<html>
<head>
  <title>Pay Period Links</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    h2 { margin-top: 30px; }
    .holiday { font-weight: bold; color: darkred; }
  </style>
</head>
<body>

<h2><a href="https://ds4114.github.io/agil/index.html" target="_blank">Login First</a></h2>
<h1>Pay Period Days</h1>

<div id="week1"></div>
<div id="week2"></div>

<button onclick="openSelected()">Open Selected Links</button>

<script>
// ---------------------------
// FEDERAL HOLIDAYS (2025–2027)
// ---------------------------
const holidays = {
  "2025-01-01": "New Year's Day",
  "2025-01-20": "MLK Day",
  "2025-02-17": "Presidents' Day",
  "2025-05-26": "Memorial Day",
  "2025-06-19": "Juneteenth",
  "2025-07-04": "Independence Day",
  "2025-09-01": "Labor Day",
  "2025-10-13": "Columbus Day",
  "2025-11-11": "Veterans Day",
  "2025-11-27": "Thanksgiving",
  "2025-12-25": "Christmas",

  "2026-01-01": "New Year's Day",
  "2026-01-19": "MLK Day",
  "2026-02-16": "Presidents' Day",
  "2026-05-25": "Memorial Day",
  "2026-06-19": "Juneteenth",
  "2026-07-03": "Independence Day (Observed)",
  "2026-09-07": "Labor Day",
  "2026-10-12": "Columbus Day",
  "2026-11-11": "Veterans Day",
  "2026-11-26": "Thanksgiving",
  "2026-12-25": "Christmas",

  "2027-01-01": "New Year's Day",
  "2027-01-18": "MLK Day",
  "2027-02-15": "Presidents' Day",
  "2027-05-31": "Memorial Day",
  "2027-06-19": "Juneteenth",
  "2027-07-05": "Independence Day (Observed)",
  "2027-09-06": "Labor Day",
  "2027-10-11": "Columbus Day",
  "2027-11-11": "Veterans Day",
  "2027-11-25": "Thanksgiving",
  "2027-12-24": "Christmas (Observed)"
};

// ---------------------------
// HELPERS
// ---------------------------
function formatDate(d) {
  return d.toISOString().split("T")[0];
}

function isWeekend(d) {
  return d.getDay() === 0 || d.getDay() === 6; // Sun=0, Sat=6
}

// ---------------------------
// DETERMINE PAY PERIOD
// Pay period = 14 days starting today
// ---------------------------
let start = new Date();
let end = new Date();
end.setDate(start.getDate() + 13);

// Collect all *weekday* days
let weekdays = [];
let d = new Date(start);

while (d <= end) {
  if (!isWeekend(d)) {
    weekdays.push(new Date(d));
  }
  d.setDate(d.getDate() + 1);
}

// Week 1 = first 5 weekdays, Week 2 = next 5 weekdays
let week1 = weekdays.slice(0, 5);
let week2 = weekdays.slice(5, 10);

// ---------------------------
// BUILD CHECKBOXES
// ---------------------------
function createCheckboxes(week, containerId, preselectRules) {
  let container = document.getElementById(containerId);

  week.forEach(date => {
    let ds = formatDate(date);
    let holiday = holidays[ds];
    let dayName = date.toLocaleDateString("en-US", { weekday: "long" });

    let label = holiday
      ? `<span class="holiday">${dayName} (${holiday})</span>`
      : `${dayName}`;

    let isChecked = preselectRules(dayName);

    container.innerHTML += `
      <label>
        <input type="checkbox" data-url="https://example.com/${ds}" ${isChecked ? "checked" : ""}>
        ${label} – ${ds}
      </label><br>
    `;
  });
}

// Preselect rules
function week1Rules(dayName) {
  return ["Monday", "Tuesday", "Thursday"].includes(dayName);
}

function week2Rules(dayName) {
  return dayName !== "Tuesday"; // Select all except Tuesday
}

document.getElementById("week1").innerHTML = "<h2>Week 1</h2>";
document.getElementById("week2").innerHTML = "<h2>Week 2</h2>";

createCheckboxes(week1, "week1", week1Rules);
createCheckboxes(week2, "week2", week2Rules);

// ---------------------------
// OPEN ALL SELECTED LINKS
// ---------------------------
function openSelected() {
  document.querySelectorAll("input[type=checkbox]:checked").forEach(cb => {
    window.open(cb.dataset.url, "_blank");
  });
}
</script>

</body>
</html>
