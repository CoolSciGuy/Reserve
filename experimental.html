<!DOCTYPE html>
<html>
<head>
<title>Pay Period Links</title>
<style>
  body { font-family: Arial, sans-serif; padding: 20px; }
  .container { margin-bottom: 30px; padding: 15px; border: 1px solid #ccc; border-radius: 8px; }
  .day-box { display: block; margin: 8px 0; }
  .holiday { color: darkred; font-weight: bold; }
</style>
</head>
<body>

<h2><a href="https://ds4114.github.io/agil/index.html" target="_blank">Login first</a></h2>
<h1>Next Pay Period Days</h1>

<div id="week1" class="container"><h2>Week 1</h2></div>
<div id="week2" class="container"><h2>Week 2</h2></div>

<button onclick="openChecked()">Open Selected Links</button>

<script>
// ----------------------------
// Federal holidays 2025–2027
// ----------------------------
const holidays = {
  "2025-01-01": "New Year's Day",
  "2025-01-20": "Martin Luther King Jr. Day",
  "2025-02-17": "Washington's Birthday",
  "2025-05-26": "Memorial Day",
  "2025-07-04": "Independence Day",
  "2025-09-01": "Labor Day",
  "2025-10-13": "Columbus Day",
  "2025-11-11": "Veterans Day",
  "2025-11-27": "Thanksgiving Day",
  "2025-12-25": "Christmas Day",

  "2026-01-01": "New Year's Day",
  "2026-01-19": "Martin Luther King Jr. Day",
  "2026-02-16": "Washington's Birthday",
  "2026-05-25": "Memorial Day",
  "2026-07-03": "Independence Day (Observed)",
  "2026-09-07": "Labor Day",
  "2026-10-12": "Columbus Day",
  "2026-11-11": "Veterans Day",
  "2026-11-26": "Thanksgiving Day",
  "2026-12-25": "Christmas Day",

  "2027-01-01": "New Year's Day",
  "2027-01-18": "Martin Luther King Jr. Day",
  "2027-02-15": "Washington's Birthday",
  "2027-05-31": "Memorial Day",
  "2027-07-05": "Independence Day (Observed)",
  "2027-09-06": "Labor Day",
  "2027-10-11": "Columbus Day",
  "2027-11-11": "Veterans Day",
  "2027-11-25": "Thanksgiving Day",
  "2027-12-24": "Christmas Day (Observed)"
};

// ----------------------------
// Generate next pay-period weekdays
// ----------------------------
function generatePayPeriodDays() {
  const today = new Date();
  let date = new Date(today);

  const week1Div = document.getElementById("week1");
  const week2Div = document.getElementById("week2");

  let weekdayCount = 0;
  let week = 1;

  for (let i = 0; i < 20; i++) {  
    date.setDate(date.getDate() + (i === 0 ? 0 : 1)); // advance dates

    const dayOfWeek = date.getDay();
    if (dayOfWeek === 0 || dayOfWeek === 6) continue; // skip weekends

    weekdayCount++;
    if (weekdayCount > 5) week = 2;

    const yyyy = date.getFullYear();
    const mm = String(date.getMonth() + 1).padStart(2, "0");
    const dd = String(date.getDate()).padStart(2, "0");
    const dateStr = `${yyyy}-${mm}-${dd}`;

    const isHoliday = holidays[dateStr] !== undefined;
    const holidayName = holidays[dateStr] || "";

    const url = `https://example.com/day=${dateStr}`;

    // Preselect rules:
    // Week 1 → Monday(1) Tuesday(2) Thursday(4)
    // Week 2 → All except Tuesday(2)
    const isChecked =
      (week === 1 && (dayOfWeek === 1 || dayOfWeek === 2 || dayOfWeek === 4)) ||
      (week === 2 && dayOfWeek !== 2);

    const boxHTML = `
      <label class="day-box ${isHoliday ? 'holiday' : ''}">
        <input type="checkbox" data-url="${url}" ${isChecked ? "checked" : ""}>
        ${dateStr} — <a href="${url}" target="_blank">${url}</a>
        ${isHoliday ? `<strong> — ${holidayName}</strong>` : ""}
      </label>
    `;

    if (week === 1) week1Div.innerHTML += boxHTML;
    else week2Div.innerHTML += boxHTML;

    if (weekdayCount === 10) break;
  }
}

// ----------------------------
// Open all checked links
// ----------------------------
function openChecked() {
  const boxes = document.querySelectorAll("input[type=checkbox]:checked");
  boxes.forEach(b => window.open(b.dataset.url, "_blank"));
}

generatePayPeriodDays();
</script>

</body>
</html>
